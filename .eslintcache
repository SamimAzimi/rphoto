[{"/home/subhan/Public/rphoto/src/components/CoupleGallary.js":"1"},{"size":3644,"mtime":1628929074619,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"6"},"1w8kkjn","/home/subhan/Public/rphoto/src/components/CoupleGallary.js",["7","8","9"],"import React, { useState, useEffect, useContext } from \"react\";\nimport fire from \"../firebase.config\";\nimport \"../style/coupleGallary.css\";\n// import Slider from \"react-animated-slider\";\n// import \"react-animated-slider/build/horizontal.css\";\n// import Couple from \"../images/gardenCouple.jpeg\";\nimport { Authcontext } from \"./Authcontext\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nfunction CoupleGallary() {\n  const { currentUser } = useContext(Authcontext);\n  const [userimages, setUserImages] = useState([]);\n\n  const handleSignOut = () => {\n    fire.auth().signOut();\n  };\n  const userImages = [];\n  useEffect(() => {\n    var storageRef = fire.storage().ref(\"users\");\n    function function1(param, callback) {\n      return new Promise(function (fulfill, reject) {\n        // storage function\n        storageRef\n          .child(currentUser.uid)\n          .listAll()\n          .then(function (result) {\n            result.items.forEach(function (imagref) {\n              imagref.getDownloadURL().then(function (url) {\n                userImages.push(url);\n                console.log(url);\n                setUserImages(userImages);\n              });\n            });\n          })\n          .catch((error) => {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            toast.info(errorCode, errorMessage);\n          });\n        //\n        fulfill(\"finished\"); //if the action succeeded\n        reject(\"error\"); //if the action did not succeed\n      });\n    }\n\n    function1()\n      .then((res) => {\n        return res;\n      })\n      .then((res) => {\n        console.log(\"res1\", res);\n      });\n  }, []);\n  const handleDownload = () => {\n    userimages.map((res) => {\n      console.log(res);\n      fetch(res).then((response) => {\n        console.log(response);\n      });\n    });\n  };\n  return (\n    <>\n      <div className=\"coupleGallaryContainer \">\n        <div className=\"customerPanel\">\n          <p className=\"congratsMessage\">\n            Heartiest <b className=\"congrats\">congratulations</b> on your\n            special day! <br />I feel immensely honored to be part of your\n            special day and witness the blooming love between two of my dear\n            friends beginning a new journey of their lives together.\n            <br />\n            May your love deepen and your joy grow with each passing day you\n            spend together.\n            <br />\n            simply Click on Download Button will download all images for you,\n            <br />\n            <span className=\"thanks\">Thanks for choosing our Services</span>\n          </p>\n          <button className=\"buttonCG\" onClick={handleSignOut}>\n            Sign Out\n          </button>\n          <button className=\"buttonCG\" onClick={handleDownload} type=\"submit\">\n            Download Images\n          </button>\n        </div>\n        <div className=\"coupleImagesContainer\">\n          <div className=\"coupleImageSlider\">\n            {userimages.map((img, index) => {\n              console.log(\"DOM\", img);\n              return (\n                <div key={index}>\n                  <img src={img} alt=\"couple\" />;\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </>\n  );\n}\n\nexport default CoupleGallary;\n",{"ruleId":"10","severity":1,"message":"11","line":10,"column":10,"nodeType":"12","messageId":"13","endLine":10,"endColumn":23},{"ruleId":"14","severity":1,"message":"15","line":54,"column":6,"nodeType":"16","endLine":54,"endColumn":8,"suggestions":"17"},{"ruleId":"18","severity":1,"message":"19","line":56,"column":26,"nodeType":"20","messageId":"21","endLine":56,"endColumn":28},"no-unused-vars","'BrowserRouter' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUser.uid' and 'userImages'. Either include them or remove the dependency array.","ArrayExpression",["22"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside",{"desc":"23","fix":"24"},"Update the dependencies array to be: [currentUser.uid, userImages]",{"range":"25","text":"26"},[1755,1757],"[currentUser.uid, userImages]"]